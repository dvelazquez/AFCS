# Daniel Velazquez
# January 2016 - AFCS Compiler
CCC= gcc

CFLAGS = -c -Wall $(shell pkg-config --cflags opencv -lgobject-2.0)
LDFLAGS = $(shell pkg-config --libs --static opencv )

all: main

main: obj/main.o obj/Initialization.o obj/Mesh.o obj/ImageProcessing.o
	$(CC) -o $@ obj/main.o Initialization.o Mesh.o ImageProcessing.o $(LDFLAGS)

obj/main.o: src/main.c 
	$(CC) $(CFLAGS) -c main.c $(LDFLAGS)
obj/Mesh.o: Mesh.c
	$(CC) $(CFLAGS) -c Mesh.c $(LDFLAGS)	
obj/ImageProcessing.o: ImageProcessing.c
	$(CC) $(CFLAGS) -c ImageProcessing.c $(LDFLAGS)
obj/Initialization.o: Initialization.c
	$(CC) $(CFLAGS) -c Initialization.c $(LDFLAGS)		


#clean: ; rm -f main.o main
